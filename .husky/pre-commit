#!/bin/bash

# Check the last commit message for "[skip ci]"
commit_msg=$(cat .git/COMMIT_EDITMSG)
if echo "$commit_msg" | grep -q '\[skip ci\]'; then
  echo "Skipping pre-commit hooks due to [skip ci] in commit message."
  exit 0
fi

npm ci
npm run build
npm run test
npm run lint
npm run stylelint
npm run attw
